<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plataforma de Tests: VPD</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Chart.js para visualización de datos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div id="app-container">
      <header class="app-header">
        <h1>Virtualización y Procesamiento Distribuido</h1>
      </header>

      <main>
        <section id="selection-screen">
          <h2>Elige un Test para Comenzar</h2>
          <div class="test-selection-grid">
            <button class="test-card" data-testfile="test/examen.json" id="start-test-examen">
              <h3>Test Examen General</h3>
              <p>Preguntas variadas sobre virtualización y sistemas distribuidos.</p>
            </button>
            <button class="test-card" data-testfile="test/p2.json" id="start-test-p2">
              <h3>Test Práctica 2</h3>
              <p>Preguntas sobre operaciones con máquinas virtuales.</p>
            </button>
            <button class="test-card" data-testfile="test/p3.json" id="start-test-p3">
              <h3>Test Práctica 3</h3>
              <p>Preguntas sobre Recursos de Almacenamiento.</p>
            </button>
            <button class="test-card" data-testfile="test/p4.json" id="start-test-p4">
              <h3>Test Práctica 4</h3>
              <p>Preguntas sobre Migraciones de Máquinas Virtuales.</p>
            </button>
            <button class="test-card" data-testfile="test/t1.json" id="start-test-t1">
              <h3>Test Tema 1</h3>
              <p>Preguntas sobre Fundamentos y Tecnologías de Virtualización.</p>
            </button>
            <button class="test-card" data-testfile="test/t2.json" id="start-test-t2">
              <h3>Test Tema 2</h3>
              <p>Preguntas sobre Recursos de Almacenamiento.</p>
            </button>
            <button class="test-card" data-testfile="test/t3.json" id="start-test-t3">
              <h3>Test Tema 3</h3>
              <p>Preguntas sobre Infraestructura de Red Virtual.</p>
            </button>
            <button class="test-card" data-testfile="test/t4.json" id="start-test-t4">
              <h3>Test Tema 4</h3>
              <p>Preguntas sobre Almacenamiento Distribuido.</p>
            </button>
          </div>

          <div id="history-section" class="hidden">
            <h3>Historial de Tests</h3>
            <div id="history-chart-container">
              <canvas id="history-chart"></canvas>
            </div>
            <div id="history-details">
              <!-- Los detalles del historial se cargarán aquí dinámicamente -->
            </div>
            <button id="toggle-history-button" class="button">Ver Historial Completo</button>
          </div>
        </section>

        <section id="quiz-container" class="hidden">
          <div class="quiz-header">
            <h2 id="quiz-title">Título del Quiz</h2>
            <p id="current-score-display">Puntuación Actual: <span id="current-score">0.00</span></p>
          </div>
          <div id="quiz-area">
            <div id="question-container">
              <p id="question-number"></p>
              <p id="question-text"></p>
            </div>
            <div id="options-container">
              <!-- Las opciones se cargarán aquí -->
            </div>
            <button id="next-button" class="button">Siguiente Pregunta</button>
            <div id="feedback-area">
              <!-- Feedback de la respuesta -->
            </div>
            <div id="explanation-area" class="hidden">
              <h4>Explicación:</h4>
              <p id="explanation-text"></p>
            </div>
            <div id="score-area" class="hidden">
              <h2>Resultados del Test</h2>
              <p>
                Puntuación Final: <span id="correct-answers"></span> (de un máximo posible de
                <span id="total-questions-for-max-score"></span>)
              </p>
              <!-- Aquí se insertará el performance-feedback -->
              <!-- Aquí se insertará el performance-stats -->
              <div id="performance-chart-container">
                <canvas id="performance-chart"></canvas>
              </div>
              <button id="restart-button" class="button">Reiniciar Test</button>
              <button id="back-to-selection-button" class="button">Volver a Selección</button>
            </div>
          </div>
        </section>
      </main>

      <footer class="app-footer">
        <p>&copy; 2024 Virtualización y Procesamiento Distribuido. Todos los derechos reservados.</p>
      </footer>
    </div>
    <script src="script.js"></script>
  </body>
</html>
